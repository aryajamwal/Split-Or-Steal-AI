<!DOCTYPE html>
<html lang="en">
<head>
<meta name="google-site-verification" content="wICaf1O-uUIO2Xexysr01eOn0CRg4VIdON6aRfA0W6o" />
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Split or Steal</title>
<style>
body {
  margin: 0;
  font-family: "Inter", sans-serif;
  background-color: #0b0b0b;
  color: #f1f1f1;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
}
header {
  text-align: center;
  margin: 20px 0;
}
h1 { font-size: 2rem; margin-bottom: 5px; }
h2 { font-size: 1.1rem; font-weight: 400; color: #b3b3b3; margin-bottom: 25px; }
.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 90%;
  max-width: 500px;
  background: #141414;
  padding: 25px;
  border-radius: 16px;
  box-shadow: 0 0 20px rgba(255,255,255,0.05);
}
select, button {
  background: #1f1f1f;
  color: #f1f1f1;
  border: none;
  padding: 10px 14px;
  border-radius: 10px;
  margin: 8px;
  font-size: 1rem;
}
button:hover, select:hover {
  background: #2b2b2b;
  cursor: pointer;
}
.actions {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin: 20px 0;
}
.scoreboard {
  background: #1a1a1a;
  padding: 15px;
  border-radius: 10px;
  text-align: center;
  width: 100%;
}
.intro {
  text-align: justify;
  font-size: 0.95rem;
  color: #c4c4c4;
  margin-bottom: 20px;
  line-height: 1.5;
}
.signature {
  font-size: 0.8rem;
  color: #7e7e7e;
  text-align: center;
  margin-top: -5px;
}
</style>
</head>
<body>
<header>
  <h1>Split or Steal</h1>
  <h2>A modern minimal simulation of the Prisoner’s Dilemma</h2>
</header>

<div class="container">
  <div class="intro">
The Prisoner’s Dilemma models trust and betrayal in decision-making.
Two players choose to cooperate (Split) or defect (Steal).
Mutual cooperation benefits both, but temptation to steal can ruin trust.
This experiment shows how strategies evolve and adapt across rounds.
In real-world economics and politics, such dynamics drive alliances and competition, forming the foundation of game theory.
  </div>

  <div>
    <label for="mode">AI Mode:</label>
    <select id="mode">
      <option>Tit-for-Tat</option>
      <option>Grim Trigger</option>
      <option>Adaptive</option>
      <option>Random</option>
    </select>
  </div>

  <div>
    <label for="target">Points to Win:</label>
    <input type="number" id="target" value="20" min="5" max="100" style="width:80px;background:#1f1f1f;color:#f1f1f1;border:none;padding:5px;border-radius:6px;">
  </div>

  <div class="actions">
    <button onclick="play('Split')">Split</button>
    <button onclick="play('Steal')">Steal</button>
  </div>
  <div class="signature">by Arya Jamwal</div>

  <div class="scoreboard">
    <p id="roundInfo">Rounds Played: 0</p>
    <p id="scoreInfo">You: 0 | AI: 0</p>
    <p id="result"></p>
    <button onclick="resetAll()">Reset All</button>
  </div>
</div>

<script>
const PAYOFF = {
  Split: { Split: [2, 2], Steal: [1, 3] },
  Steal: { Split: [3, 1], Steal: [-1, -1] },
};
let playerScore = 0;
let aiScore = 0;
let rounds = 0;
let history = [];
let aiMemory = [];

function chooseAI(playerLast, mode) {
  if (mode === "Random") return Math.random() < 0.5 ? "Split" : "Steal";
  if (mode === "Tit-for-Tat") return playerLast ? playerLast : "Split";
  if (mode === "Grim Trigger") {
    if (aiMemory.includes("Steal")) return "Steal";
    return playerLast === "Steal" ? "Steal" : "Split";
  }
  if (mode === "Adaptive") {
    let recent = history.slice(-5);
    let coopRate = recent.filter(h => h.player === "Split").length / (recent.length || 1);
    return Math.random() < coopRate ? "Split" : "Steal";
  }
  return "Split";
}

function play(playerMove) {
  const mode = document.getElementById("mode").value;
  const last = history[history.length - 1]?.player;
  const aiMove = chooseAI(last, mode);
  const [aiGain, playerGain] = PAYOFF[aiMove][playerMove];
  aiScore += aiGain;
  playerScore += playerGain;
  rounds++;
  history.push({ round: rounds, player: playerMove, ai: aiMove });
  aiMemory.push(aiMove);

  const target = parseInt(document.getElementById("target").value) || 20;
  let message = `You chose ${playerMove}, AI chose ${aiMove}.`;
  if (playerScore >= target) message += " You win!";
  if (aiScore >= target) message += " AI wins!";

  document.getElementById("roundInfo").innerText = `Rounds Played: ${rounds}`;
  document.getElementById("scoreInfo").innerText = `You: ${playerScore} | AI: ${aiScore}`;
  document.getElementById("result").innerText = message;
}

function resetAll() {
  playerScore = 0;
  aiScore = 0;
  rounds = 0;
  history = [];
  aiMemory = [];
  document.getElementById("roundInfo").innerText = "Rounds Played: 0";
  document.getElementById("scoreInfo").innerText = "You: 0 | AI: 0";
  document.getElementById("result").innerText = "";
}
</script>
</body>
</html>
